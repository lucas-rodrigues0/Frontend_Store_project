(this["webpackJsonpsd-0x-project-frontend-online-store"]=this["webpackJsonpsd-0x-project-frontend-online-store"]||[]).push([[0],{27:function(e,t,a){e.exports=a(43)},32:function(e,t,a){},33:function(e,t,a){},43:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(25),o=a.n(c),i=(a(32),a(19)),u=a(1),l=a(2),s=a(6),d=a(4),p=a(3),h=a(12),m=a(5),g=(a(33),a(11)),v=a.n(g),f=a(16);function b(){return y.apply(this,arguments)}function y(){return(y=Object(f.a)(v.a.mark((function e(){var t,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.mercadolibre.com/sites/MLB/categories");case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e,t){return E.apply(this,arguments)}function E(){return(E=Object(f.a)(v.a.mark((function e(t,a){var n,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||""!==a){e.next=6;break}return e.next=3,fetch("https://api.mercadolibre.com/sites/MLB/search?category=".concat(t));case 3:n=e.sent,e.next=9;break;case 6:return e.next=8,fetch("https://api.mercadolibre.com/sites/MLB/search?category=".concat(t,"_ID&q=").concat(a));case 8:n=e.sent;case 9:return e.next=11,n.json();case 11:return r=e.sent,e.abrupt("return",r);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var C=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={products:JSON.parse(localStorage.getItem("PRODUTOS"))},n}return Object(l.a)(a,[{key:"getTotal",value:function(){return this.state.products.reduce((function(e,t){return e+t.price*t.quantity}),0)}},{key:"remove",value:function(e){var t=this.state.products;t.splice(e,1),this.setState({products:t})}},{key:"increment",value:function(e,t){var a=this.state.products;e.availableQuantity>e.quantity&&(e.quantity+=1),a.splice(t,1,e),this.setState({products:a})}},{key:"decrement",value:function(e,t){var a=this.state.products;if(e.quantity<1)return e.quantity;e.quantity-=1,a.splice(t,1,e),this.setState({products:a})}},{key:"updateLocalStorage",value:function(e){localStorage.setItem("PRODUTOS",JSON.stringify(e))}},{key:"render",value:function(){var e=this,t=this.state.products;return r.a.createElement(r.a.Fragment,null,t.map((function(a,n){var c=a.title,o=a.thumbnail,i=a.price,u=a.quantity;return r.a.createElement("div",{key:n},r.a.createElement("img",{src:"".concat(o),alt:"product"}),r.a.createElement("p",{"data-testid":"shopping-cart-product-name"},c),r.a.createElement("p",null,i),r.a.createElement("button",{type:"button","data-testid":"product-increase-quantity",onClick:function(){e.increment(a,n),e.updateLocalStorage(t)}},"+"),r.a.createElement("button",{type:"button","data-testid":"product-decrease-quantity",onClick:function(){e.decrement(a,n),e.updateLocalStorage(t)}},"-"),r.a.createElement("button",{type:"button",onClick:function(){e.remove(a,n),e.updateLocalStorage(t)}},"X"),r.a.createElement("div",{"data-testid":"shopping-cart-product-quantity"},u))})),r.a.createElement("div",{className:"valorTotal"},"Total: R$ ",this.getTotal()))}}]),a}(n.Component),j=a(20),k=function(){var e=r.a.useState(!1),t=Object(j.a)(e,2),a=t[0],n=t[1];return a?r.a.createElement(m.a,{to:"/Frontend_Store_project/checkout"}):r.a.createElement("button",{"data-testid":"checkout-products",type:"button",onClick:function(){return n(!0)}},"COMPRAR")},S=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.cartProducts;return 0===JSON.parse(localStorage.getItem("PRODUTOS")).length?r.a.createElement("div",{"data-testid":"shopping-cart-empty-message"},"Seu carrinho est\xe1 vazio"):r.a.createElement(r.a.Fragment,null,r.a.createElement(C,{cartProducts:e}),r.a.createElement(k,null))}}]),a}(n.Component),P=a(18),I=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(u.a)(this,a),(e=t.call(this)).inputChange=e.inputChange.bind(Object(s.a)(e)),e.state={fullname:"",email:"",cpf:"",phone:"",cep:"",address:""},e}return Object(l.a)(a,[{key:"inputChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(P.a)({},a,n))}},{key:"fullnameInput",value:function(){var e=this.state.fullname;return r.a.createElement("input",{name:"fullname",type:"text",value:e,placeholder:"Nome Completo",onChange:this.inputChange,"data-testid":"checkout-fullname",className:"inputCheckout"})}},{key:"emailInput",value:function(){var e=this.state.email;return r.a.createElement("input",{name:"email",type:"text",value:e,placeholder:"Email",onChange:this.inputChange,"data-testid":"checkout-email",className:"inputCheckout"})}},{key:"cepInput",value:function(){var e=this.state.cep;return r.a.createElement("input",{name:"cep",type:"text",value:e,placeholder:"CEP",onChange:this.inputChange,"data-testid":"checkout-cep",className:"inputCheckout"})}},{key:"phoneInput",value:function(){var e=this.state.phone;return r.a.createElement("input",{name:"phone",type:"text",value:e,placeholder:"Telefone",onChange:this.inputChange,"data-testid":"checkout-phone",className:"inputCheckout"})}},{key:"cpfInput",value:function(){var e=this.state.cpf;return r.a.createElement("input",{name:"cpf",type:"text",value:e,placeholder:"CPF",onChange:this.inputChange,"data-testid":"checkout-cpf",className:"inputCheckout"})}},{key:"addressInput",value:function(){var e=this.state.address;return r.a.createElement("input",{name:"address",type:"text",value:e,placeholder:"Endere\xe7o",onChange:this.inputChange,"data-testid":"checkout-address",className:"inputCheckout"})}},{key:"renderForm",value:function(){return r.a.createElement("form",null,r.a.createElement("legend",null,"Informa\xe7\xf5es do Comprador:"),this.fullnameInput(),this.emailInput(),this.cpfInput(),this.phoneInput(),this.cepInput(),this.addressInput())}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(C,null),this.renderForm(),r.a.createElement("button",{type:"button"},"FINALIZAR"))}}]),a}(n.Component),N=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(u.a)(this,a),(e=t.call(this)).addToLocalStorage=e.addToLocalStorage.bind(Object(s.a)(e)),e}return Object(l.a)(a,[{key:"addToLocalStorage",value:function(e){var t=e.title,a=e.price,n=e.thumbnail,r=e.id,c=e.available_quantity,o=JSON.parse(localStorage.getItem("PRODUTOS"));0!==o.length?o.forEach((function(e){Object.values(e).includes(r)?(e.quantity+=1,localStorage.setItem("PRODUTOS",JSON.stringify(o))):localStorage.setItem("PRODUTOS",JSON.stringify([].concat(Object(i.a)(o),[{title:t,price:a,thumbnail:n,id:r,quantity:1,availableQuantity:c}])))})):localStorage.setItem("PRODUTOS",JSON.stringify([{title:t,price:a,thumbnail:n,id:r,quantity:1,availableQuantity:c}]))}},{key:"render",value:function(){var e=this,t=this.props,a=t.testId,n=t.product,c=t.addProductToCart;return r.a.createElement("button",{type:"button",onClick:function(){e.addToLocalStorage(n),c(n)},"data-testid":a},"ADICIONAR")}}]),a}(n.Component),T=function(e){var t=r.a.useState(!1),a=Object(j.a)(t,2),n=a[0],c=a[1],o=e.cartSize;return n?r.a.createElement(m.a,{to:"/Frontend_Store_project/cart"}):r.a.createElement("div",{className:"carrinhoEContador"},r.a.createElement("button",{"data-testid":"shopping-cart-button",type:"button",onClick:function(){return c(!0)},className:"botaoCarrinho"},r.a.createElement("img",{src:"https://image.flaticon.com/icons/png/512/1374/1374128.png",alt:"Carrinho de Compras",className:"carrinhoCompras"})),r.a.createElement("span",{"data-testid":"shopping-cart-size",className:"valorCarrinho"},o.toString()))},R=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).verifyRate=n.verifyRate.bind(Object(s.a)(n)),n}return Object(l.a)(a,[{key:"verifyRate",value:function(e,t){var a=!1;return e>=t&&(a=!0),a}},{key:"render",value:function(){var e=this.props,t=e.onHandleRatingChange,a=e.rating;return r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"rating"},"Classifica\xe7\xe3o:",r.a.createElement("input",{name:"rating",type:"checkbox",value:"1",checked:this.verifyRate(a,1),onChange:t}),r.a.createElement("input",{name:"rating",type:"checkbox",value:"2",checked:this.verifyRate(a,2),onChange:t}),r.a.createElement("input",{name:"rating",type:"checkbox",value:"3",checked:this.verifyRate(a,3),onChange:t}),r.a.createElement("input",{name:"rating",type:"checkbox",value:"4",checked:this.verifyRate(a,4),onChange:t}),r.a.createElement("input",{name:"rating",type:"checkbox",value:"5",checked:this.verifyRate(a,5),onChange:t})))}}]),a}(n.Component);R.defaultProps={rating:0};var F=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={userEmail:"",rating:0,comment:""},n.handleRatingChange=n.handleRatingChange.bind(Object(s.a)(n)),n}return Object(l.a)(a,[{key:"handleRatingChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(P.a)({},a,n))}},{key:"render",value:function(){var e=this.state,t=e.userEmail,a=e.rating,n=e.comment;return r.a.createElement("div",null,r.a.createElement("fieldset",null,r.a.createElement("legend",null,"Avalia\xe7\xf5es:"),r.a.createElement("input",{name:"userEmail",type:"text",value:t,placeholder:"Email",onChange:this.handleRatingChange,required:!0}),r.a.createElement(R,{onHandleRatingChange:this.handleRatingChange,rating:parseInt(a,10)}),r.a.createElement("textarea",{name:"comment",value:n,onChange:this.handleRatingChange,placeholder:"Coment\xe1rio (opcional)",maxLength:"150","data-testid":"product-detail-evaluation"}),r.a.createElement("button",{type:"button"},"AVALIAR")))}}]),a}(n.Component),x=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return!0===this.props.product.shipping.free_shipping?r.a.createElement("p",{"data-testid":"free-shipping",className:"textoFreteGratis"},"Frete Gr\xe1tis"):r.a.createElement("div",null)}}]),a}(n.Component),q=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.location.state.product,t=e.title,a=e.subtitle,n=e.price,c=e.condition,o=e.warranty,i=e.thumbnail,u=this.props,l=u.addProductToCart,s=u.cartSize;return r.a.createElement("div",{className:"productDetails"},r.a.createElement("img",{src:"".concat(i),alt:"product",className:"imgProduct"}),r.a.createElement("p",{"data-testid":"product-detail-name"},t),r.a.createElement(x,{product:e}),r.a.createElement("p",null,a),r.a.createElement("p",null,"R$ ",n),r.a.createElement("p",null,"Condi\xe7\xe3o: ",c),r.a.createElement("p",null,o),r.a.createElement(N,{product:e,addProductToCart:l,testId:"product-detail-add-to-cart"}),r.a.createElement(T,{cartSize:s}),r.a.createElement(F,null))}}]),a}(n.Component),w=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(u.a)(this,a),(e=t.call(this)).fetchListOfCategories=e.fetchListOfCategories.bind(Object(s.a)(e)),e.state={categories:[]},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.fetchListOfCategories()}},{key:"fetchListOfCategories",value:function(){var e=Object(f.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b();case 2:t=e.sent,this.setState({categories:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.categories,t=this.props.onChangeCategoryId;return r.a.createElement("div",{className:"container-list-categories"},e.map((function(e){return r.a.createElement("label",{"data-testid":"category",htmlFor:"input-label-list-categories",className:"label-list-categories",key:e.id,value:e.name},e.name,r.a.createElement("input",{id:"input-label-list-categories",value:e.id,name:"category",type:"radio",onClick:t}))})))}}]),a}(n.Component),L=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.product,a=e.addProductToCart,n=t.title,c=t.thumbnail,o=t.price,i=t.id;return r.a.createElement("div",{"data-testid":"product",className:"product"},r.a.createElement("h4",null,n),r.a.createElement(x,{product:t}),r.a.createElement("img",{src:c,alt:"Imagem do Produto",className:"imgProduct"}),r.a.createElement("span",null,"Pre\xe7o: ".concat(o)),r.a.createElement(h.b,{"data-testid":"product-detail-link",to:{pathname:"/Frontend_Store_project/details/".concat(i),state:{product:t}},className:"detalhesProduto"},"VER DETALHES"),r.a.createElement(h.b,{"data-testid":"product-detail-link",to:{pathname:"/Frontend_Store_project/cart/".concat(i),state:{product:t,count:1}}}),r.a.createElement(N,{product:t,addProductToCart:a,testId:"product-add-to-cart"}))}}]),a}(n.Component),_=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(u.a)(this,a),(e=t.call(this)).handleOrdenation=e.handleOrdenation.bind(Object(s.a)(e)),e}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.categoryId,n=t.onFetchProducts;e.categoryId!==a&&n()}},{key:"handleOrdenation",value:function(e,t){return"increasePrice"===e&&t.sort((function(e,t){return e.price<t.price?-1:e.price>t.price?1:0})),"decreasePrice"===e&&t.sort((function(e,t){return e.price>t.price?-1:e.price<t.price?1:0})),t}},{key:"render",value:function(){var e=this.props,t=e.products,a=e.addProductToCart,n=e.orderFilter,c=t;return r.a.createElement("div",{className:"listaDeProdutos"},this.handleOrdenation(n,c).map((function(e){return r.a.createElement(L,{key:e.id,product:e,addProductToCart:a})})))}}]),a}(n.Component),D=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.orderFilter,a=e.handleOrder;return r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"seletor"},"Ordenar por:",r.a.createElement("select",{value:t,onChange:a},r.a.createElement("option",{value:""},"..."),r.a.createElement("option",{value:"increasePrice"},"Menor Pre\xe7o"),r.a.createElement("option",{value:"decreasePrice"},"Maior Pre\xe7o"))))}}]),a}(n.Component),z=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"renderStatusInput",value:function(){var e=this.props,t=e.queryStatus,a=e.changeQueryStatus,n=e.fetchProducts;return r.a.createElement("div",{className:"buscar"},r.a.createElement("input",{type:"text",id:"buscador",value:t,onChange:a,"data-testid":"query-input",placeholder:"O que voc\xea est\xe1 procurando?",className:"inputBuscar"}),r.a.createElement("button",{type:"button","data-testid":"query-button",onClick:n,className:"botaoBuscarProduto"},r.a.createElement("img",{src:"https://image.flaticon.com/icons/png/512/16/16492.png",alt:"lupa buscar",className:"lupa"})))}},{key:"renderInitialMessage",value:function(){return r.a.createElement("div",{"data-testid":"home-initial-message",className:"mensagemInicial"},"Digite algum termo de pesquisa ou escolha uma categoria.")}},{key:"render",value:function(){var e=this.props,t=e.products,a=e.queryStatus,n=e.categoryId,c=e.fetchProducts,o=e.changeCategoryId,i=e.addProductToCart,u=e.cartSize,l=e.orderFilter,s=e.handleOrder;return r.a.createElement("div",null,this.renderStatusInput(),r.a.createElement(D,{orderFilter:l,handleOrder:s}),r.a.createElement(T,{cartSize:u}),r.a.createElement("div",{className:"inputECarrinho"},this.renderStatusInput(),r.a.createElement(T,{cartSize:u})),""===a&&""===n&&this.renderInitialMessage(),r.a.createElement(w,{onChangeCategoryId:o}),r.a.createElement(_,{products:t,categoryId:n,onFetchProducts:c,addProductToCart:i,orderFilter:l}))}}]),a}(n.Component),A=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("header",{className:"header"},r.a.createElement("h1",null," Shopping "),r.a.createElement("img",{src:"https://go.betrybe.com/hubfs/logo%20cortada%20branca.png",alt:"Logotipo Trybe",className:"logoTrybe"}))}}]),a}(n.Component),M=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("footer",{className:"footer"},r.a.createElement("p",null,"Projeto desenvolvido no modulo de FrontEnd da Trybe!"),r.a.createElement("div",{className:"linkedins"},r.a.createElement("p",null,r.a.createElement("a",{href:"https://www.linkedin.com/in/arnaelciogomespereira/",target:"_blank"},"Arnaelcio Gomes")),r.a.createElement("p",null,r.a.createElement("a",{href:"https://www.linkedin.com/in/bianca-caetano-31a2921aa/",target:"_blank"},"Bianca Caetano")),r.a.createElement("p",null,r.a.createElement("a",{href:"https://www.linkedin.com/in/lucas-rodrigues-0107a5b3/",target:"_blank"},"Lucas Rodrigues")),r.a.createElement("p",null,r.a.createElement("a",{href:"https://www.linkedin.com/in/marcela-souza-834696153/",target:"_blank"},"Marcela Souza"))))}}]),a}(n.Component),J=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(u.a)(this,a),(e=t.call(this)).state={products:[],queryStatus:"",categoryId:"",cartProducts:[],orderFilter:""},e.fetchProducts=e.fetchProducts.bind(Object(s.a)(e)),e.changeQueryStatus=e.changeQueryStatus.bind(Object(s.a)(e)),e.changeCategoryId=e.changeCategoryId.bind(Object(s.a)(e)),e.addProductToCart=e.addProductToCart.bind(Object(s.a)(e)),e.handleOrder=e.handleOrder.bind(Object(s.a)(e)),e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.setLocalStorage()}},{key:"handleOrder",value:function(e){var t=e.target.value;this.setState({orderFilter:t})}},{key:"setLocalStorage",value:function(){localStorage.getItem("PRODUTOS")||localStorage.setItem("PRODUTOS",JSON.stringify([]));var e=JSON.parse(localStorage.getItem("PRODUTOS"));this.setState({cartProducts:e})}},{key:"fetchProducts",value:function(){var e=this,t=this.state,a=t.queryStatus;O(t.categoryId,a).then((function(t){e.setState({products:t.results})}))}},{key:"changeCategoryId",value:function(e){var t=e.target.value;this.setState({categoryId:t})}},{key:"changeQueryStatus",value:function(e){var t=e.target.value;this.setState({queryStatus:t})}},{key:"addProductToCart",value:function(e){this.setState((function(t){return 0!==t.cartProducts.length?{cartProducts:[].concat(Object(i.a)(t.cartProducts),[e])}:{cartProducts:[e]}}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.products,n=t.queryStatus,c=t.categoryId,o=t.cartProducts,i=t.orderFilter;return r.a.createElement("div",{className:"App"},r.a.createElement(A,null),r.a.createElement(h.a,null,r.a.createElement(m.d,null,r.a.createElement(m.b,{path:"/Frontend_Store_project/details/:id",render:function(t){return r.a.createElement(q,Object.assign({},t,{addProductToCart:e.addProductToCart,cartSize:o.length}))}}),r.a.createElement(m.b,{path:"/Frontend_Store_project/cart",render:function(e){return r.a.createElement(S,Object.assign({},e,{cartProducts:o}))}}),r.a.createElement(m.b,{path:"/Frontend_Store_project/checkout",component:I}),r.a.createElement(m.b,{exact:!0,path:"/Frontend_Store_project/",products:a,render:function(t){return r.a.createElement(z,Object.assign({},t,{products:a,queryStatus:n,changeQueryStatus:e.changeQueryStatus,fetchProducts:e.fetchProducts,categoryId:c,changeCategoryId:e.changeCategoryId,addProductToCart:e.addProductToCart,cartSize:o.length,orderFilter:i,handleOrder:e.handleOrder}))}}))),r.a.createElement(M,null))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(J,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[27,1,2]]]);
//# sourceMappingURL=main.ff3e0cce.chunk.js.map